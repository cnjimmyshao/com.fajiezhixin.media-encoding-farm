# 视频编码农场 - 环境变量配置示例
# 复制此文件为 .env 并根据需要修改

# =============================================================================
# 服务器配置
# =============================================================================

# HTTP 服务端口 (默认: 3000)
PORT=3000

# 工作区目录，用于存储临时文件和日志 (默认: /tmp/vef)
WORKSPACE_PATH=/tmp/vef

# =============================================================================
# FFmpeg 配置
# =============================================================================

# FFmpeg 可执行文件路径（如非系统默认）
FFMPEG_BIN=ffmpeg

# FFprobe 可执行文件路径（如非系统默认）
FFPROBE_BIN=ffprobe

# FFmpeg 超时系数，用于计算长时间任务的超时时间 (默认: 5)
# 超时时间 = 视频时长 × 系数
FFMPEG_TIMEOUT_FACTOR=5

# =============================================================================
# VMAF 配置（可选）
# =============================================================================

# VMAF 模型版本 (默认: vmaf_v0.6.1)
# 可选值: vmaf_v0.6.1, vmaf_v0.6.1neg, vmaf_4k_v0.6.1
VMAF_MODEL=vmaf_v0.6.1

# VMAF 计算线程数 (默认: 4)
VMAF_N_THREADS=4

# VMAF 子采样率，减少计算量 (默认: 5，表示每 5 帧计算一次)
VMAF_N_SUBSAMPLE=5

# VMAF 帧率限制（可选，为空则不限制）
VMAF_FPS=

# =============================================================================
# CUDA / GPU 加速配置（通常自动检测，无需手动配置）
# =============================================================================

# 是否启用 CUDA 加速 (默认: 自动检测)
# CUDA_ENABLED=true

# CUDA 设备 ID (默认: 0)
# CUDA_DEVICE=0

# =============================================================================
# 高级配置（通常无需修改）
# =============================================================================

# 场景检测阈值 (默认: 0.4)
# 范围: 0.01-1.0，值越小越敏感
# SCENE_DETECTION_THRESHOLD=0.4

# 调度器循环间隔，毫秒 (默认: 1000)
# SCHEDULER_LOOP_INTERVAL=1000
